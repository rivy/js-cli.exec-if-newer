<!DOCTYPE markdown><!-- markdownlint-disable first-line-heading no-inline-html --><!-- @prettier --><!-- deno-fmt-ignore-file --><!-- dprint-fmt-ignore-file -->
<meta charset="utf-8" content="text/markdown" lang="en">
<!-- -## editors ## (emacs/sublime) -*- coding: utf8-nix; tab-width: 4; mode: markdown; indent-tabs-mode: nil; basic-offset: 2; st-word_wrap: 'true' -*- ## (jEdit) :tabSize=4:indentSize=4:mode=markdown: ## (notepad++) vim:tabstop=4:syntax=markdown:expandtab:smarttab:softtabstop=2 ## modeline (see <https://archive.is/djTUD>@@<http://webcitation.org/66W3EhCAP> ) -->
<!-- spell-checker:ignore expandtab markdownlint modeline smarttab softtabstop -->

<!-- markdownlint-disable heading-increment no-duplicate-heading -->
<!-- spell-checker:ignore (abbrev/jargon) CICD CJS ESM ESMs -->
<!-- spell-checker:ignore (names) Codacy Deno Dprint JSDelivr npmJS -->
<!-- spell-checker:ignore (targets) realclean -->
<!-- spell-checker:ignore (people) rivy -->

# [exec-if-newer](https://github.com/rivy/js-cli.exec-if-newer)

> NodeJS command line utility that executes a command if and only if a set of source files is newer than a set of target files

[![License][license-image]][license-url]
[![Style Guide][style-image]][style-url]
&nbsp; <br/>
[![Repository][repository-image]][repository-url]
[![NPM version][npm-image]][npm-url]
[![NodeJS version][nodejsv-image]][repository-url]
[![npmJS Downloads][downloads-image]][downloads-url]
[![JSDelivr Downloads][jsdelivr-image]][jsdelivr-url]

## Motivation

The exec-if-newer application was primarily designed to be used in NPM scripts to prevent recompiling or regenerating files if their source has not changed. The determination is made by comparing the latest timestamps of a set of source and target files. If any source files are newer than the target files or any concrete/non-glob target files are missing, the command is executed.

## Installation

### Prerequisites

The exec-if-newer program is designed to work with [NodeJS](http://nodejs.org) versions >= 6.x. You must have NodeJS and NPM installed to install and run the application.

### Locally

If you will be installing exec-if-newer for use in NPM scripts for your own package, the following commands can be used to install the program locally:

#### NPM

```bash
npm install --save-dev exec-if-newer
```

#### Yarn

```bash
yarn add --dev exec-if-newer
```

### Globally

To install exec-if-newer for use across your entire system, use the following commands (depending on your environment and package manager):

#### NPM (Windows)

```bash
npm install -g exec-if-newer
```

#### NPM (Mac and Linux)

```bash
sudo npm install -g exec-if-newer
```

#### Yarn (Windows)

```bash
yarn global add exec-if-newer
```

#### Yarn (Mac and Linux)

```bash
sudo yarn global add exec-if-newer
```

## Usage

```bash
exec-if-newer --source <src glob> --target <target glob> command
```

### Options

#### \-\-source, -s **(REQUIRED)**

The source option is used to control which source files will be compared to the target to check for updated files. The source option can be supplied multiple times to add additional source files for comparison to the targets.

```bash
exec-if-newer --source src/** -s assets/** --target <target glob> command
```

#### \-\-target, -t **(REQUIRED)**

The target option specifies which files would be regenerated by the executable command. The target option can be specified multiple times to add additional target file for comparison.

```bash
exec-if-newer --source <source glob> --target dist/** -t build/** command
```

#### --help

The help option can be used to print help running the exec-if-newer application.

```bash
exec-if-newer --help
```

#### --version

The version option can be used to print the current version of the exec-if-newer application.

```bash
exec-if-newer --version
```

### Examples

```bash
exec-if-newer --source src/*.es6 --target dist/*.js babel src/app.es6 -o dist/app.js
```

```bash
echo "Even works with pipes" | exec-if-newer --source src/** --target dist/** cat
```

## Building

```shell
yarn install
yarn run prerelease # cleans and compiles to 'dist'
```

Note: both `node src/exec-if-updated.js` and `node dist/cli/exec-if-updated.js` should execute correctly.

## Built With

- [Yargs](https://github.com/yargs/yargs) - For command line parsing.
- [execa](https://github.com/sindresorhus/execa) - For executing the command line application.
- [globby](https://github.com/sindresorhus/globby) - For matching the file globs for comparison.

## Versioning

exec-if-newer uses [SemVer](http://semver.org/) for versioning. For the versions available, see the [tags on this repository](https://github.com/mwootendev/exec-if-newer/tags).

## Authors

- **Roy Ivy III** - [rivy](https://github.com/rivy)
- **Michael Wooten** - [mwootendev](https://github.com/mwootendev)

## License

This project is licensed under the MIT License - see the [LICENSE.md](LICENSE.md) file for details.

## Related

- [`exec-if-updated`](https://github.com/mwootendev/exec-if-updated) ... original/upstream CLI utility

## License

[MIT](./LICENSE)Â© [Roy Ivy III](https://github.com/rivy) , [Michael Wooten](https://github.com/mwootendev)

<!-- badge references -->

<!-- Repository -->
<!-- Note: for '[repository-image] ...', `%E2%81%A3` == utf-8 sequence of "Unicode Character 'INVISIBLE SEPARATOR' (U+2063)"; ref: <https://codepoints.net/U+2063> -->

[repository-image]: https://img.shields.io/github/package-json/v/rivy/js-cli.exec-if-newer/master?label=%E2%81%A3&logo=github&logoColor=white
[repository-url]: https://github.com/rivy/js-cli.exec-if-newer
[license-image]: https://img.shields.io/npm/l/os-paths.svg?color=tomato&style=flat
[license-url]: license
[nodejsv-image]: https://img.shields.io/node/v/os-paths?color=slateblue
[style-image]: https://img.shields.io/badge/code_style-prettier-mediumvioletred.svg
[style-url]: https://prettier.io

<!-- Code quality -->

[coverage-image]: https://img.shields.io/codecov/c/github/rivy/js-cli.exec-if-newer/master.svg
[coverage-url]: https://codecov.io/gh/rivy/js-cli.exec-if-newer
[codeclimate-url]: https://codeclimate.com/github/rivy/js-cli.exec-if-newer
[codeclimate-image]: https://img.shields.io/codeclimate/maintainability/rivy/js-cli.exec-if-newer?label=codeclimate
[codacy-image]: https://img.shields.io/codacy/grade/4fa161040bcd483890691190293ff950?label=codacy
[codacy-url]: https://app.codacy.com/gh/rivy/js-cli.exec-if-newer/dashboard
[codefactor-image]: https://img.shields.io/codefactor/grade/github/rivy/js-cli.exec-if-newer?label=codefactor
[codefactor-url]: https://www.codefactor.io/repository/github/rivy/js-cli.exec-if-newer

<!-- Distributors/Registries -->

[deno-image]: https://img.shields.io/github/package-json/v/rivy/js-cli.exec-if-newer/master?label=deno
[deno-url]: https://deno.land/x/os_paths
[downloads-image]: http://img.shields.io/npm/dm/os-paths.svg?style=flat
[downloads-url]: https://npmjs.org/package/os-paths
[jsdelivr-image]: https://img.shields.io/jsdelivr/gh/hm/rivy/js-cli.exec-if-newer?style=flat
[jsdelivr-url]: https://www.jsdelivr.com/package/gh/rivy/js-cli.exec-if-newer
[npm-image]: https://img.shields.io/npm/v/os-paths.svg?style=flat
[npm-url]: https://npmjs.org/package/os-paths
